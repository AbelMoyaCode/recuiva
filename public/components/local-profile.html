<!-- =============================================== -->
<!-- COMPONENTE: Perfil Modo Local Simplificado -->
<!-- =============================================== -->
<!-- Reemplaza el perfil falso con indicador de modo local -->

<div class="local-mode-profile">
  <!-- Versi√≥n Desktop -->
  <div class="hidden md:flex items-center gap-3">
    <!-- Indicador de Modo Local -->
    <div class="flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg">
      <span class="material-symbols-outlined text-gray-600" style="font-size: 20px;">computer</span>
      <span class="text-sm font-semibold text-gray-700">Modo Local</span>
    </div>
    
    <!-- Men√∫ desplegable -->
    <button id="local-menu-btn" class="p-2 rounded-lg hover:bg-gray-100 transition">
      <span class="material-symbols-outlined text-gray-600">more_vert</span>
    </button>
    
    <!-- Dropdown Menu -->
    <div id="local-menu-dropdown" class="local-menu-dropdown">
      <button onclick="window.location.href='dashboard.html'" class="menu-item">
        <span class="material-symbols-outlined">dashboard</span>
        <span>Dashboard</span>
      </button>
      
      <button onclick="exportRecuivaData()" class="menu-item">
        <span class="material-symbols-outlined">download</span>
        <span>Exportar Datos</span>
      </button>
      
      <button onclick="importRecuivaData()" class="menu-item">
        <span class="material-symbols-outlined">upload</span>
        <span>Importar Datos</span>
      </button>
      
      <hr class="my-1 border-gray-200">
      
      <button onclick="showAboutLocal()" class="menu-item text-gray-500">
        <span class="material-symbols-outlined">info</span>
        <span>Acerca de Modo Local</span>
      </button>
    </div>
  </div>
  
  <!-- Versi√≥n Mobile -->
  <div class="md:hidden flex items-center gap-2">
    <span class="material-symbols-outlined text-gray-600">computer</span>
    <span class="text-xs font-semibold text-gray-700">Local</span>
  </div>
</div>

<style>
.local-mode-profile {
  position: relative;
}

.local-menu-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  min-width: 220px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;
  z-index: 50;
  overflow: hidden;
}

.local-menu-dropdown.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.local-menu-dropdown .menu-item {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px 16px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 14px;
  text-align: left;
  color: #374151;
  transition: background 0.15s;
}

.local-menu-dropdown .menu-item:hover {
  background: #f3f4f6;
}

.local-menu-dropdown .menu-item .material-symbols-outlined {
  font-size: 20px;
  color: #6b7280;
}

.local-menu-dropdown .menu-item:hover .material-symbols-outlined {
  color: #f97316;
}
</style>

<script>
// Toggle menu dropdown
document.addEventListener('DOMContentLoaded', () => {
  const menuBtn = document.getElementById('local-menu-btn');
  const menuDropdown = document.getElementById('local-menu-dropdown');
  
  if (menuBtn && menuDropdown) {
    menuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      menuDropdown.classList.toggle('active');
    });
    
    // Cerrar al hacer clic fuera
    document.addEventListener('click', (e) => {
      if (!menuDropdown.contains(e.target) && e.target !== menuBtn) {
        menuDropdown.classList.remove('active');
      }
    });
    
    // Cerrar al hacer clic en una opci√≥n
    menuDropdown.querySelectorAll('.menu-item').forEach(item => {
      item.addEventListener('click', () => {
        menuDropdown.classList.remove('active');
      });
    });
  }
});

// Mostrar informaci√≥n sobre modo local
function showAboutLocal() {
  const message = `
üì± MODO LOCAL - ¬øQu√© significa?

‚úÖ Ventajas:
‚Ä¢ Tus datos est√°n solo en TU navegador
‚Ä¢ Funciona sin internet (una vez cargado)
‚Ä¢ Privacidad total - nadie m√°s ve tus datos
‚Ä¢ Gratis - sin costos de servidor

‚ö†Ô∏è Limitaciones:
‚Ä¢ Datos solo en este navegador
‚Ä¢ Si borras cach√©, pierdes datos
‚Ä¢ No sincroniza entre dispositivos

üí° Recomendaciones:
‚Ä¢ Exporta backups regularmente
‚Ä¢ No borres datos del navegador
‚Ä¢ Usa siempre el mismo navegador para estudiar

üì¶ Backup:
‚Ä¢ Exporta tus datos peri√≥dicamente
‚Ä¢ Guarda el archivo .json en un lugar seguro
‚Ä¢ Puedes importarlo si cambias de dispositivo
  `.trim();
  
  if (typeof showAdvancedModal === 'function') {
    showAdvancedModal('info', 'Modo Local', message);
  } else {
    alert(message);
  }
}

console.log('‚úÖ Perfil Modo Local cargado');
</script>
