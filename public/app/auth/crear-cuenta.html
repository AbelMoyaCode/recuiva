<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Manrope%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <title>Crear Cuenta | Recuiva</title>
    <link rel="icon" type="image/x-icon" href="../../assets/img/Icon-Recuiva.ico"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Supabase JS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../../assets/js/supabase-config.js"></script>
    <!-- Modal de √©xito -->
    <script src="../../assets/js/success-modal.js?v=2.0"></script>
    <style type="text/tailwindcss">
      :root {
        --primary-color: #FF6600;
        --secondary-color: #004EAA;
        --accent-color: #A5CDED;
        --base-white: #FFFFFF;
        --base-gray: #F1F3F5;
        --text-primary: #181410;
        --text-secondary: #575757;
      }
      .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .hover-lift:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      }
      .menu-btn {
        cursor: pointer;
        transition: transform 0.3s ease;
      }
      .menu-btn:hover {
        transform: scale(1.1);
      }
      .mobile-menu {
        transform-origin: top;
        transition: transform 0.3s ease, opacity 0.3s ease;
        transform: scaleY(0);
        opacity: 0;
        pointer-events: none;
        max-height: 0;
        overflow: hidden;
      }
      .mobile-menu.active {
        transform: scaleY(1);
        opacity: 1;
        pointer-events: auto;
        max-height: 100vh;
        overflow-y: auto;
      }
      #menu-btn.active .menu-icon {
        transform: rotate(180deg);
      }
    </style>
</head>
<body class="bg-[var(--base-gray)]" style='font-family: Manrope, "Noto Sans", sans-serif;'>
<div class="relative flex size-full min-h-screen flex-col overflow-x-hidden">

<!-- HEADER -->
<header class="bg-[var(--base-white)] shadow-md sticky top-0 z-50">
  <div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <!-- Logo -->
    <div class="flex items-center gap-2">
      <a href="/index.html" class="flex items-center gap-2">
        <img src="../../assets/img/Icon-Recuiva.png" alt="Logo Recuiva" class="h-10 w-10 object-contain md:h-12 md:w-12" style="max-width:48px; max-height:48px;"/>
        <span class="text-2xl font-bold text-[var(--text-primary)]">Recuiva</span>
      </a>
    </div>

    <!-- Navegaci√≥n Desktop -->
    <nav class="hidden md:flex items-center gap-8">
      <a class="text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="/index.html">Inicio</a>
    </nav>

    <!-- Botones Desktop -->
    <div class="hidden md:flex items-center gap-4">
      <a href="iniciar-sesion.html">
        <button type="button" class="border border-[var(--secondary-color)] text-[var(--secondary-color)] font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all">
          Iniciar sesi√≥n
        </button>
      </a>
      <a href="crear-cuenta.html">
        <button type="button" class="bg-[var(--secondary-color)] text-[var(--base-white)] font-bold py-2 px-6 rounded-full hover:bg-opacity-90 transition-all">
          Crear cuenta
        </button>
      </a>
    </div>

    <!-- Men√∫ Mobile -->
    <div class="md:hidden">
      <button class="menu-btn z-50 p-2 rounded-full hover:bg-gray-100" id="menu-btn">
        <span class="material-symbols-outlined text-3xl text-[var(--text-primary)] menu-icon">menu</span>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Desplegable -->
  <div class="mobile-menu md:hidden bg-[var(--base-white)] shadow-lg absolute top-full left-0 w-full" id="mobile-menu">
    <div class="container mx-auto px-6 py-6 flex flex-col gap-4">
      <a class="text-xl text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="/index.html">Inicio</a>
      <hr class="border-gray-200"/>
      <a href="iniciar-sesion.html" class="w-full">
        <button type="button" class="w-full border border-[var(--secondary-color)] text-[var(--secondary-color)] font-bold py-3 px-6 rounded-full hover:bg-gray-100 transition-all">
          Iniciar sesi√≥n
        </button>
      </a>
      <a href="crear-cuenta.html" class="w-full">
        <button type="button" class="w-full bg-[var(--secondary-color)] text-[var(--base-white)] font-bold py-3 px-6 rounded-full hover:bg-opacity-90 transition-all">
          Crear cuenta
        </button>
      </a>
    </div>
  </div>
</header>

<!-- MAIN CONTENT -->
<main class="flex-1 flex items-center justify-center px-4 py-8">
  <div class="w-full max-w-md">
    
    <!-- Card de Registro -->
    <div class="bg-white rounded-2xl shadow-xl p-8 hover-lift">
      
      <!-- Header del formulario -->
      <div class="text-center mb-6">
        <div class="flex justify-center mb-3">
          <div class="bg-gradient-to-r from-[var(--primary-color)] to-[var(--secondary-color)] p-4 rounded-full">
            <span class="material-symbols-outlined text-4xl text-white">person_add</span>
          </div>
        </div>
        <h1 class="text-3xl font-bold text-[var(--text-primary)] mb-2">
          Crear Cuenta
        </h1>
        <p class="text-[var(--text-secondary)]">
          √önete a Recuiva y mejora tu aprendizaje
        </p>
      </div>

      <!-- Formulario -->
      <form id="registerForm" class="space-y-4">
        
        <!-- Nombre completo -->
        <div>
          <label for="fullName" class="block text-sm font-semibold text-[var(--text-primary)] mb-2">
            Nombre completo
          </label>
          <div class="relative">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]">person</span>
            <input
              type="text"
              id="fullName"
              name="fullName"
              required
              placeholder="Ej: Juan P√©rez"
              class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--secondary-color)] focus:border-transparent transition-all"
            />
          </div>
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-semibold text-[var(--text-primary)] mb-2">
            Correo electr√≥nico
          </label>
          <div class="relative">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]">mail</span>
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder="tu@email.com"
              class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--secondary-color)] focus:border-transparent transition-all"
            />
          </div>
        </div>

        <!-- Contrase√±a -->
        <div>
          <label for="password" class="block text-sm font-semibold text-[var(--text-primary)] mb-2">
            Contrase√±a
          </label>
          <div class="relative">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]">lock</span>
            <input
              type="password"
              id="password"
              name="password"
              required
              placeholder="M√≠nimo 8 caracteres"
              minlength="8"
              class="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--secondary-color)] focus:border-transparent transition-all"
            />
            <button type="button" id="togglePassword" class="absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--primary-color)]">
              <span class="material-symbols-outlined" id="passwordIcon">visibility</span>
            </button>
          </div>
          <p class="text-xs text-[var(--text-secondary)] mt-1">
            Debe tener al menos 8 caracteres, una may√∫scula, una min√∫scula y un n√∫mero
          </p>
          <!-- Indicador de fuerza de contrase√±a -->
          <div id="passwordStrength" class="mt-2 hidden">
            <div class="flex gap-1 mb-1">
              <div class="h-1 flex-1 rounded bg-gray-200" id="strength-bar-1"></div>
              <div class="h-1 flex-1 rounded bg-gray-200" id="strength-bar-2"></div>
              <div class="h-1 flex-1 rounded bg-gray-200" id="strength-bar-3"></div>
              <div class="h-1 flex-1 rounded bg-gray-200" id="strength-bar-4"></div>
            </div>
            <p class="text-xs" id="strengthText">Ingresa una contrase√±a</p>
          </div>
        </div>

        <!-- Confirmar contrase√±a -->
        <div>
          <label for="confirmPassword" class="block text-sm font-semibold text-[var(--text-primary)] mb-2">
            Confirmar contrase√±a
          </label>
          <div class="relative">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]">lock_reset</span>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              required
              placeholder="Repite tu contrase√±a"
              class="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--secondary-color)] focus:border-transparent transition-all"
            />
            <button type="button" id="toggleConfirmPassword" class="absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--primary-color)]">
              <span class="material-symbols-outlined" id="confirmPasswordIcon">visibility</span>
            </button>
          </div>
        </div>

        <!-- T√©rminos y condiciones -->
        <div class="flex items-start gap-2">
          <input
            type="checkbox"
            id="terms"
            required
            class="mt-1 w-4 h-4 text-[var(--secondary-color)] border-gray-300 rounded focus:ring-[var(--secondary-color)]"
          />
          <label for="terms" class="text-sm text-[var(--text-secondary)]">
            Acepto los <a href="#" class="text-[var(--secondary-color)] hover:underline">t√©rminos y condiciones</a> 
            y la <a href="#" class="text-[var(--secondary-color)] hover:underline">pol√≠tica de privacidad</a>
          </label>
        </div>

        <!-- Mensaje de error -->
        <div id="errorMessage" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
          <div class="flex items-center gap-2">
            <span class="material-symbols-outlined text-lg">error</span>
            <span id="errorText"></span>
          </div>
        </div>

        <!-- Bot√≥n de registro -->
        <button
          type="submit"
          class="w-full bg-gradient-to-r from-[var(--primary-color)] to-[var(--secondary-color)] text-white font-bold py-3 px-6 rounded-lg hover:shadow-lg transition-all transform hover:scale-105"
        >
          Crear cuenta
        </button>

        <!-- Divider -->
        <div class="relative my-4">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-4 bg-white text-[var(--text-secondary)]">o contin√∫a con</span>
          </div>
        </div>

        <!-- Botones de OAuth -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <button
            type="button"
            onclick="signUpWithGmail()"
            class="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"
          >
            <svg class="w-5 h-5" viewBox="0 0 24 24">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
            <span class="text-sm font-medium text-gray-700">Gmail</span>
          </button>
          
          <button
            type="button"
            onclick="signUpWithGitHub()"
            class="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            <span class="text-sm font-medium text-gray-700">GitHub</span>
          </button>
        </div>

      </form>

      <!-- Link a login -->
      <div class="mt-6 text-center">
        <p class="text-sm text-[var(--text-secondary)]">
          ¬øYa tienes cuenta? 
          <a href="iniciar-sesion.html" class="text-[var(--secondary-color)] font-semibold hover:underline">
            Inicia sesi√≥n
          </a>
        </p>
      </div>

    </div>

  </div>
</main>

<!-- FOOTER -->
<footer class="text-gray-100 py-12 px-6" style="background-color: #004EAA;">
  <div class="container mx-auto text-center">
    <div class="flex justify-center items-center gap-2 mb-6">
      <img src="../../assets/img/Icon-Recuiva.png" alt="Logo Recuiva" class="h-10 w-10 object-contain md:h-12 md:w-12" style="max-width:48px; max-height:48px;"/>
      <span class="text-2xl font-bold">Recuiva</span>
    </div>
    <div class="flex flex-wrap items-center justify-center gap-x-6 gap-y-2 mb-6">
      <a class="hover:text-[var(--primary-color)] transition-colors" href="../../institucional/active-recall.html">Active Recall</a>
      <a class="hover:text-[var(--primary-color)] transition-colors" href="../../institucional/validacion-semantica.html">Validaci√≥n Sem√°ntica</a>
      <a class="hover:text-[var(--primary-color)] transition-colors" href="../../institucional/diferencias.html">Diferencias</a>
      <a class="hover:text-[var(--primary-color)] transition-colors" href="#">Contacto</a>
      <a class="hover:text-[var(--primary-color)] transition-colors" href="#">T√©rminos</a>
      <a class="hover:text-[var(--primary-color)] transition-colors" href="#">Privacidad</a>
    </div>
    <p class="text-sm">¬© 2024 Recuiva. Todos los derechos reservados.</p>
  </div>
</footer>

</div>

<!-- JAVASCRIPT -->
<script>
// Toggle men√∫ mobile
const menuBtn = document.getElementById('menu-btn');
const mobileMenu = document.getElementById('mobile-menu');
const menuIcon = menuBtn?.querySelector('.menu-icon');
let isMenuOpen = false;

if (menuBtn && mobileMenu && menuIcon) {
  menuBtn.addEventListener('click', () => {
    isMenuOpen = !isMenuOpen;
    mobileMenu.classList.toggle('active');
    document.body.classList.toggle('overflow-hidden');
    
    // Animaci√≥n del icono
    menuIcon.style.transition = 'transform 0.3s ease, opacity 0.15s ease';
    if (isMenuOpen) {
      menuIcon.style.transform = 'rotate(90deg)';
      menuIcon.style.opacity = '0';
      setTimeout(() => {
        menuIcon.textContent = 'close';
        menuIcon.style.transform = 'rotate(0deg)';
        menuIcon.style.opacity = '1';
      }, 150);
    } else {
      menuIcon.style.transform = 'rotate(90deg)';
      menuIcon.style.opacity = '0';
      setTimeout(() => {
        menuIcon.textContent = 'menu';
        menuIcon.style.transform = 'rotate(0deg)';
        menuIcon.style.opacity = '1';
      }, 150);
    }
  });

  // Cerrar men√∫ al hacer clic en un enlace
  const menuLinks = mobileMenu.querySelectorAll('a');
  menuLinks.forEach(link => {
    link.addEventListener('click', () => {
      if (isMenuOpen) {
        menuBtn.click();
      }
    });
  });
}

// Toggle mostrar/ocultar contrase√±a
const togglePassword = document.getElementById('togglePassword');
const passwordInput = document.getElementById('password');
const passwordIcon = document.getElementById('passwordIcon');

if (togglePassword && passwordInput && passwordIcon) {
  togglePassword.addEventListener('click', () => {
    const type = passwordInput.type === 'password' ? 'text' : 'password';
    passwordInput.type = type;
    passwordIcon.textContent = type === 'password' ? 'visibility' : 'visibility_off';
  });
}

// Toggle mostrar/ocultar confirmar contrase√±a
const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
const confirmPasswordInput = document.getElementById('confirmPassword');
const confirmPasswordIcon = document.getElementById('confirmPasswordIcon');

if (toggleConfirmPassword && confirmPasswordInput && confirmPasswordIcon) {
  toggleConfirmPassword.addEventListener('click', () => {
    const type = confirmPasswordInput.type === 'password' ? 'text' : 'password';
    confirmPasswordInput.type = type;
    confirmPasswordIcon.textContent = type === 'password' ? 'visibility' : 'visibility_off';
  });
}

// Funciones OAuth con Supabase
window.signUpWithGmail = async function() {
  try {
    const { data, error } = await supabaseClient.auth.signInWithOAuth({
      provider: 'google',
      options: {
        redirectTo: `${window.location.origin}/app/home.html`
      }
    });
    if (error) throw error;
  } catch (error) {
    console.error('Error al registrar con Gmail:', error);
    alert('Registro con Gmail no disponible todav√≠a. Por favor usa email y contrase√±a.');
  }
};

window.signUpWithGitHub = async function() {
  try {
    const { data, error } = await supabaseClient.auth.signInWithOAuth({
      provider: 'github',
      options: {
        redirectTo: `${window.location.origin}/app/home.html`
      }
    });
    if (error) throw error;
  } catch (error) {
    console.error('Error al registrar con GitHub:', error);
    alert('Registro con GitHub no disponible todav√≠a. Por favor usa email y contrase√±a.');
  }
};

// Validaci√≥n de contrase√±a fuerte
function validarContrase√±aFuerte(password) {
  const errors = [];
  const requirements = {
    length: password.length >= 8,
    uppercase: /[A-Z]/.test(password),
    lowercase: /[a-z]/.test(password),
    number: /[0-9]/.test(password),
    special: /[!@#$%^&*(),.?":{}|<>]/.test(password)
  };
  
  if (!requirements.length) errors.push('M√≠nimo 8 caracteres');
  if (!requirements.uppercase) errors.push('Al menos una may√∫scula (A-Z)');
  if (!requirements.lowercase) errors.push('Al menos una min√∫scula (a-z)');
  if (!requirements.number) errors.push('Al menos un n√∫mero (0-9)');
  
  // Calcular fuerza (0-4)
  const strength = Object.values(requirements).filter(Boolean).length;
  
  return { errors, strength, requirements };
}

// Actualizar indicador de fuerza en tiempo real
const pwdInputField = document.getElementById('password');
const passwordStrength = document.getElementById('passwordStrength');
const strengthBars = [
  document.getElementById('strength-bar-1'),
  document.getElementById('strength-bar-2'),
  document.getElementById('strength-bar-3'),
  document.getElementById('strength-bar-4')
];
const strengthText = document.getElementById('strengthText');

if (pwdInputField && passwordStrength) {
  pwdInputField.addEventListener('input', () => {
    const password = pwdInputField.value;
    
    if (password.length === 0) {
      passwordStrength.classList.add('hidden');
      return;
    }
    
    passwordStrength.classList.remove('hidden');
    const { strength, requirements } = validarContrase√±aFuerte(password);
    
    // Actualizar barras
    const colors = ['#ef4444', '#f59e0b', '#eab308', '#22c55e'];
    const texts = ['Muy d√©bil', 'D√©bil', 'Buena', 'Fuerte'];
    
    strengthBars.forEach((bar, index) => {
      if (index < strength) {
        bar.style.backgroundColor = colors[strength - 1];
      } else {
        bar.style.backgroundColor = '#e5e7eb';
      }
    });
    
    strengthText.textContent = strength > 0 ? `Contrase√±a: ${texts[strength - 1]}` : 'Muy d√©bil';
    strengthText.style.color = strength > 0 ? colors[strength - 1] : '#6b7280';
  });
}

// Manejo del formulario
const registerForm = document.getElementById('registerForm');
const errorMessage = document.getElementById('errorMessage');
const errorText = document.getElementById('errorText');

if (registerForm) {
  registerForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Limpiar errores previos
    errorMessage.classList.add('hidden');
    
    // Obtener datos del formulario
    const formData = {
      fullName: document.getElementById('fullName').value,
      email: document.getElementById('email').value,
      password: document.getElementById('password').value,
      confirmPassword: document.getElementById('confirmPassword').value
    };
    
    // Validar que las contrase√±as coincidan
    if (formData.password !== formData.confirmPassword) {
      showError('Las contrase√±as no coinciden');
      return;
    }
    
    // Validar contrase√±a fuerte
    const { errors, strength } = validarContrase√±aFuerte(formData.password);
    
    if (errors.length > 0) {
      showError('Contrase√±a d√©bil: ' + errors.join(', '));
      return;
    }
    
    if (strength < 3) {
      showError('Por favor usa una contrase√±a m√°s fuerte (al menos 3/4 requisitos)');
      return;
    }
    
    try {
      // Registro con Supabase
      console.log('üîê Registrando usuario en Supabase...');
      
      const { data, error } = await supabaseClient.auth.signUp({
        email: formData.email,
        password: formData.password,
        options: {
          data: {
            full_name: formData.fullName
          }
        }
      });
      
      if (error) throw error;
      
      console.log('‚úÖ Usuario registrado:', data);
      
      // Guardar en localStorage para compatibilidad
      const user = {
        name: formData.fullName,
        email: formData.email,
        id: data.user.id
      };
      
      localStorage.setItem('recuiva_user', JSON.stringify(user));
      localStorage.setItem('recuiva_isAuthenticated', 'true');
      
      // Verificar que showSuccessModal existe
      console.log('üîç Tipo de showSuccessModal:', typeof window.showSuccessModal);
      console.log('üîç Funci√≥n showSuccessModal:', window.showSuccessModal);
      
      // Mostrar modal de √©xito con animaci√≥n
      if (typeof window.showSuccessModal === 'function') {
        window.showSuccessModal({
          title: '¬°Cuenta creada exitosamente!',
          message: `Bienvenido ${formData.fullName}. Revisa tu email (${formData.email}) para confirmar tu cuenta.`,
          icon: 'celebration',
          buttonText: 'Ir al Dashboard',
          redirectUrl: '../home.html',
          autoRedirect: true,
          delay: 3000
        });
      } else {
        console.error('‚ùå showSuccessModal no est√° definida. Usando alert como fallback.');
        alert(`¬°Cuenta creada exitosamente!\n\nBienvenido ${formData.fullName}.\nRevisa tu email (${formData.email}) para confirmar tu cuenta.`);
        setTimeout(() => {
          window.location.href = '../home.html';
        }, 2000);
      }
      
    } catch (error) {
      console.error('‚ùå Error al registrar:', error);
      showError(error.message || 'Error al crear la cuenta. Por favor, intenta de nuevo.');
    }
  });
}

function showError(message) {
  errorText.textContent = message;
  errorMessage.classList.remove('hidden');
  errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
}
</script>

</body>
</html>
